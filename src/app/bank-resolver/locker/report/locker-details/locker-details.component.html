<div class="row d-flex justify-content-center align-items-center pt-4"
  style="background-color: #78c2ad21; min-height: 20vh;">
  <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 shadow-sm mb-4 bg-white p-3">
    <div>
      <button mat-raised-button type="button" class="btn btn-rounded btn-primary m-1" (click)="closeScreen()">Close</button>
      <button mat-raised-button type="button" class="btn btn-rounded btn-primary m-1" [useExistingCss]="true"
        printSectionId="mattable" ngxPrint>Print</button>
        <button mat-raised-button type="button" class="btn btn-rounded btn-primary m-1 pull-right" (click)="downloadexcel()">Download Excel</button>
    </div>
  </div>
  <div class="col-xs-12 col-sm-12 shadow-lg mb-4 bg-white p-3">
   


     <!-- material data table begins-->
   
     <mat-form-field appearance="outline">
      <mat-label>Search Locker Details</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Ex. abc / 123">
    </mat-form-field>
    <div class="mat-elevation-z8" id="mattable">
  <table mat-table cdkDropListGroup [dataSource]="dataSource" class="mat-elevation-z8" matSort>
    <!-- Position Column -->
   <ng-container matColumnDef="mainHeader">
       <th mat-header-cell colspan="8" *matHeaderCellDef>
        <div class="justify-content-center" style="text-align:center">
          <h4>{{ardbName}} ({{branchName}})</h4>
          <h4>Run Date & Time : {{today}} </h4>
          <h4> <u>Locker Details </u></h4>
        </div>
       </th>
   </ng-container>
   <ng-container matColumnDef="SLNO">
  
    <th mat-header-cell *matHeaderCellDef mat-sort-header>#</th>
    <td mat-cell *matCellDef="let element; let i=index;" style="text-align: center;"> {{i+1}} </td>
  </ng-container>

    <ng-container matColumnDef="locker_id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Locker ID</th>
    <td mat-cell *matCellDef="let element"> {{element.locker_id}} </td>
    </ng-container>
  
    <!-- Name Column -->
    <ng-container matColumnDef="agreement_no">
   
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Agreement No </th>
    
      <td mat-cell *matCellDef="let element"> {{element.agreement_no}} </td>
    </ng-container>
  
    <!-- Weight Column -->
    <ng-container matColumnDef="key_no">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> 
        Key No
      </th>
      <td mat-cell *matCellDef="let element"> {{element.key_no}} </td>
    </ng-container>
  
    <!-- Symbol Column -->
    <ng-container matColumnDef="name">
    
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Alocated to </th>
     
      <td mat-cell *matCellDef="let element" > {{element.name}} </td>
    </ng-container>
    <ng-container matColumnDef="locker_type">
      
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Locker Type </th>
     
        <td mat-cell *matCellDef="let element" > 
          <ng-container *ngIf="element.locker_type=='S'">
            Small
        </ng-container>
          <ng-container *ngIf="element.locker_type=='L'">
            Large
          </ng-container>
          <ng-container *ngIf="element.locker_type=='M'">
            Medium
          </ng-container>
        </td>
    </ng-container>
    <ng-container matColumnDef="locker_status">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Locker Status </th> 
      <td mat-cell *matCellDef="let element" > 
        <ng-container *ngIf="element.locker_status=='V'">
          Vacant

        </ng-container>
        <ng-container *ngIf="element.locker_status=='A'">
          Alocated

        </ng-container>
      </td>
    </ng-container>
    <ng-container matColumnDef="rented_till">
      
        <th mat-header-cell *matHeaderCellDef mat-sort-header> rented_till</th>
      
      
      <td mat-cell *matCellDef="let element"> 
        {{element.rented_till.substr(0,10) }}
      </td>
      
    </ng-container>
    
    
    <tr mat-header-row *matHeaderRowDef="['mainHeader']"></tr>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let element; columns: displayedColumns;"></tr>
  </table>
  <footer>
    <small>
      This report is generated through Synergic Banking
     </small>
   </footer>
  </div>
  <mat-paginator  showFirstLastButtons [pageSizeOptions]="[20,5,10,15,25,50,100, this.reportData.length]" MatPaginator></mat-paginator>

  
  </div>

  <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 shadow-sm mb-4 bg-white p-3">
    <div>
      <button mat-raised-button type="button" class="btn btn-rounded btn-primary m-1" (click)="closeScreen()">Close</button>
      <!-- <button mat-raised-button type="button" class="btn btn-rounded btn-primary m-1" [useExistingCss]="true"
        printSectionId="hiddenTab" ngxPrint>Print</button> -->
        <button mat-raised-button type="button" class="btn btn-rounded btn-primary m-1" [useExistingCss]="true"
        printSectionId="mattable" ngxPrint>Print</button>
        <!-- <button mat-raised-button type="button" class="btn btn-rounded btn-primary m-1 pull-right" (click)="downloadPDF()">Download PDF</button> -->
        <button mat-raised-button type="button" class="btn btn-rounded btn-primary m-1 pull-right" (click)="downloadexcel()">Download Excel</button>

    </div>
  </div>
</div>
<loading *ngIf="isLoading"></loading>