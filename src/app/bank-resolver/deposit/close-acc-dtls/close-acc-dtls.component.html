<loading *ngIf="isLoading"></loading>
<div class="row d-flex justify-content-center align-items-center">
  <div
    class="col-xs-12 col-sm-12 col-md-11 col-lg-11 shadow mb-2 bg-white p-3 d-flex justify-content-center align-items-center">
    <button mat-raised-button type="button" class="btn btn-primary btn-sm ml-1 mr-1" (click)="retrieveData()">Retrieve</button>
    <!-- <button mat-raised-button type="button" class="btn btn-primary btn-sm ml-1 mr-1" (click)="modifyData()">Modify</button> -->
    <button mat-raised-button type="button" class="btn btn-primary btn-sm ml-1 mr-1" (click)="clearData()">Clear</button>
    <!-- <button mat-raised-button type="button" class="btn btn-primary btn-sm ml-1 mr-1" (click)="saveData()">Save</button> -->
    <button mat-raised-button type="button" class="btn btn-primary btn-sm ml-1 mr-1" (click)="backScreen()">Back</button>
    <!-- <button mat-raised-button type="button" class="btn btn-primary btn-sm ml-1 mr-1" (click)="deleteData()">Delete</button> -->
    <button mat-raised-button type="button" [disabled]="undefined === tm_deposit.cust_cd" class="btn btn-primary btn-sm ml-1 mr-1"
      (click)="openModal(kycContent)">Kyc</button>



  </div>


  <div class="container col-xs-12 col-sm-12 col-md-11 col-lg-11 mb-2 bg-white p-3">

    <!-- <div *ngIf="showAlert" class="alert alert-danger alert-dismissible fade show" role="alert">
    <strong>{{alertMsgType}}: </strong>
    {{alertMsg}}
    <button mat-raised-button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="closeAlertMsg()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div> -->
    <div *ngIf="showMsg && showMsg.Show" class="col-12 mt-1">
      <div class="alert alert-dismissible fade show" role="alert" [ngClass]="{'alert-success': showMsg.Type === 0,
     'alert-warning':showMsg.Type === 1, 'alert-info':showMsg.Type === 2, 'alert-danger':showMsg.Type === 3 }">
        <strong>{{showMsg.Message}}</strong>
        <button type="button" class="close" data-dismiss="alert" (click)="closeAlertMsg()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </div>

    <div class="row">
      <div class="col-12 col-sm-6 col-md-7 border-right">
        <h1></h1>
        <h4 class="customHeader">Personal Information</h4>
        <!-- <div class="col-xs-12 col-sm-12 col-md-11 col-lg-11 shadow mb-2 bg-white p-3"> -->

        <div class="form-row">
          <div class="form-group col-3">
            <small for="cust_code">Customer Code</small>
            <input style="height:25px" [readonly]="true" type="text" class="form-control form-control-sm text-capitalize"
              [(ngModel)]="tm_deposit.cust_cd" id="cust_code" placeholder="Customer Code">
          </div>
          <div class="form-group col-6">
            <small for="cust_name">Customer Name</small>
            <input style="height:25px" [readonly]="true" type="text" class="form-control form-control-sm text-capitalize" id="cust_name"
               [(ngModel)]="tm_deposit.cust_name" placeholder="Customer Name">
          </div>

          <div class="form-group col-3">
            <small for="cust_type">Type</small>
            <input style="height:25px" [readonly]="true" type="text" class="form-control form-control-sm text-capitalize"
              id="cust_type" [(ngModel)]="tm_deposit.cust_type" placeholder="Type">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-7">
            <small for="cust_gurdain">Gurdain Name</small>
            <input style="height:25px" [readonly]="true" type="text" class="form-control form-control-sm text-capitalize"
              id="cust_gurdain" [(ngModel)]="tm_deposit.gurdain_name" placeholder="Gurdain Name">
          </div>
          <div class="form-group col-3">
            <small for="cust_dob">Date Of Birth</small>

            <input style="height:25px; " type="text" placeholder="dd/mm/yyyy" class="form-control"
              [ngModel]="tm_deposit.date_of_birth" [readonly]="true" bsDatepicker
              [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
          </div>

          <div class="form-group col-2">
            <small for="cust_sex">Sex</small>
            <input style="height:25px" [readonly]="true" type="text" class="form-control form-control-sm text-capitalize"
              id="cust_sex" [(ngModel)]="tm_deposit.sexType" placeholder="Customer Sex">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-3">
            <small>Phone</small>
            <input style="height:25px" [readonly]="true" type="text" class="form-control form-control-sm text-capitalize"
              [(ngModel)]="tm_deposit.phone" placeholder="Customer Phone">
          </div>
          <div class="form-group col-3">
            <small for="cust_category">Category</small>
            <input style="height:25px" [readonly]="true" type="text" class="form-control form-control-sm text-capitalize"
              id="cust_category" [(ngModel)]="tm_deposit.category_desc" placeholder="Customer Category">
          </div>

          <div class="form-group col-3">
            <small for="cust_occup">Occupation</small>
            <input style="height:25px" [readonly]="true" type="text" class="form-control form-control-sm text-capitalize"
              id="cust_occup" [(ngModel)]="tm_deposit.occupation" placeholder="Occupation">
          </div>
          <div class="form-group col-3">
            <small for="cust_ledger">Ledger Number</small>
            <input style="height:25px" [readonly]="true" type="text" class="form-control form-control-sm text-capitalize"
              id="cust_ledger" [(ngModel)]="tm_deposit.email" placeholder="Ledger Number">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-12">
            <small for="cust_addr">Present Address</small>
            <input style="height:25px; " [readonly]="true" type="text" class="form-control form-control-sm text-capitalize"
              id="cust_addr" [(ngModel)]="tm_deposit.present_addr" placeholder="Cust Present Address">
          </div>
        </div>

      </div>


      <div class="col-6 col-md-5 border-left">
        <h1></h1>
        <h4 class="customHeader">Authorised Signatories</h4>

        <section *ngFor="let l of td_signatoryList; let i=index">
          <div class="form-row">
            <div class="form-group col-6">
              <small for="auth_sig">Name of Authorised Signatory</small>
              <input [disabled]="i==0 || disableAll" [(ngModel)]="l.signatory_name" type="text" style="height:25px"
                class="form-control form-control-sm text-capitalize" id="auth_sig" (ngModelChange)="l.signatory_name"
                (input)="suggestCustomerSignatories(i)" placeholder="Name of Authorised Signatories">
                 <div class="suggestions border p-2"
                *ngIf="suggestedCustomerSignatories && i==suggestedCustomerSignatoriesIdx">
                <strong> [ Customer Cd / Phone ] Name </strong>
                <p style="margin-bottom:.2rem; cursor: pointer;" *ngFor="let cust of suggestedCustomerSignatories"
                  (click)="setCustDtlsSignatories(cust.cust_cd, i)">
                  {{'[' + cust.cust_cd + ' / '
                  + ((null === cust.phone) ? '' : cust.phone) +'] '
                  + cust.cust_name}}
                </p>
              </div>

              <!-- <input  [(ngModel)]="l.signatory_name" type="text" style="height:25px"
                class="form-control form-control-sm text-capitalize" id="auth_sig" 
                placeholder="Name of Authorised Signatories"> -->


            </div>
            <div class="text-right mb-3">
              <button mat-raised-button type="button" style="margin-top:20px;margin-right: 10px;margin-left: 10px;" class="btn btn-primary btn-sm"
                (click)="addSignatory()" [disabled]='disableAll'>
                <i class="fa fa-plus-circle" aria-hidden="true"></i>
              </button>
    
              <button mat-raised-button type="button"  class="btn btn-primary btn-sm"
                (click)="removeSignatory()" [disabled]='disableAll'>
                <i class="fa fa-minus-circle" aria-hidden="true"></i>
              </button>
            </div>
          </div>
        </section>

        
        <!-- -------------------------------------- -->


        <hr style="margin-top: 0ch;">
        <h4 class="customHeader">Joint Holder</h4>
        <section *ngFor="let t1 of td_accholderList; let i = index">
          <div class="form-row">
            <div class="form-group col-3">
              <small for="joint_cust_code">Cust Code</small>
              <!-- <input type="text" [disabled]='disableAll' [(ngModel)]="t1.cust_cd" style="height:25px" class="form-control form-control-sm text-capitalize"
                (change)="getSetJointHolderName(i)" id="joint_cust_code" placeholder="Cust Code"> -->

                <input type="text" [readonly]="true" [(ngModel)]="t1.cust_cd" style="height:25px" class="form-control form-control-sm text-capitalize"
                 id="joint_cust_code" placeholder="Cust Code">

                <!-- <div  class="suggestions border p-2" *ngIf="suggestedCustomerJointHolder && i==suggestedCustomerJointHolderIdx"> -->
                  <!-- <strong> [ Customer Cd / Phone ] Name / Gurdian Name </strong>
                  <p style="margin-bottom:.2rem; cursor: pointer;" *ngFor="let cust of suggestedCustomerJointHolder"
                  (click)="setCustDtlsJointHolder(cust.cust_cd, i)">
                  {{'[' + cust.cust_cd + ' / '
                  + ((null === cust.phone) ? '' : cust.phone) +'] '
                  + cust.cust_name  +'/'+ cust.guardian_name}}
                </p> -->
                <!-- <table id="joinholder" >
                  <tr>
                    <th> Customer Code / Phone</th>
                    <th> Name / Gurdian Name</th>
                  </tr>
                  <tbody *ngFor="let cust of suggestedCustomerJointHolder" >
                    <tr  (click)="setCustDtlsJointHolder(cust.cust_cd,i)">
                      <td>
                        {{cust.cust_cd}}  {{((null === cust.phone) ? '' : ' / '+ cust.phone)}}
                      </td>
                      <td>
                        {{cust.cust_name +'/'+ cust.guardian_name}}
            
                      </td>
                    </tr>
                   
                  </tbody>
                  
                </table> -->
                <!-- </div> -->

            </div>

            <div class="form-group col-6">
              <small for="joint_cust_name">Account Holder</small>
              <div class="input-group">
              <input [disabled]='disableAll' type="text" [(ngModel)]="t1.acc_holder" style="height:25px" class="form-control form-control-sm text-capitalize"
              (input)="enableSearch(i)" id="joint_cust_name" placeholder="Search Name/Cust Cd">
                <div class="input-group-append">
                <button class="btn btn-primary btn-sm" [disabled]="disablejoinholder" style="font-size:x-small" (click)="suggestCustomerJointHolder(i)"><i class="fa fa-search"></i></button>
              </div>
            </div>
            <div class="suggestions border p-2" [hidden]="hidejoin"
                *ngIf="suggestedCustomerJointHolder && i==suggestedCustomerJointHolderIdx">
                
                <table id="joinholder" >
                  <tr>
                    <th> Customer Code / Phone</th>
                    <th> Name / Gurdian Name</th>
                  </tr>
                  <tbody *ngFor="let cust of suggestedCustomerJointHolder" >
                    <tr  (click)="setCustDtlsJointHolder(cust.cust_cd,i)">
                      <td>
                        {{cust.cust_cd}}  {{((null === cust.phone) ? '' : ' / '+ cust.phone)}}
                      </td>
                      <td>
                        {{cust.cust_name +'/'+ cust.guardian_name}}
            
                      </td>
                    </tr>
                   
                  </tbody>
                  
                </table>
              </div>
              
          </div>
            <div class="form-group col-3">
              <small for="trans_type">Relation</small> <br>
              <select [disabled]='disableAll' style="height:25px; font-size: small; padding-top: 0px; background-color: whitesmoke;" id="trans_type"
                class="form-control form-control-sm" (change)="setRelationship($event.target.value, i)">
                <option [value]="t1.relation" [readonly]="true" selected>{{t1.relationId}}-{{t1.relation}}</option>
                <option *ngFor="let l of relationship" [value]="l.val">{{l.id}}-{{l.val}}</option>
              </select>
            </div>

        </div>
        </section>

        <div class="text-right mb-3">
          <button type="button" style=" margin-right: 10px;" class="btn btn-primary btn-sm"
            (click)="addJointHolder()" [disabled]='disableAll'>
            <i class="fa fa-plus-circle" aria-hidden="true"></i>
          </button>

          <button type="button" class="btn btn-primary btn-sm"
            (click)="removeJointHolder()" [disabled]='disableAll'>
            <i class="fa fa-minus-circle" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </div>
  </div>


  <!-- <======================================================================================> -->

  <div class="container col-xs-12 col-sm-12 col-md-11 col-lg-11 mb-2 bg-white p-3">
    <div class="row">
      <div class="col-12 col-sm-6 col-md-7 border-right">

        <!-- <div class="col-xs-12 col-sm-12 col-md-11 col-lg-11 shadow mb-2  p-6 border"> -->
        <h1></h1>
        <h4 class="customHeader">Account Details</h4>

        <div class="form-row">
          <div class="form-group col-4">
            <small for="trans_type">Account Type</small> <br>
            <select style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
              [disabled]='disableAccountTypeAndNo' [(ngModel)]="tm_deposit.acc_type_cd"
              (change)="setAccountType($event.target.value)" id="account_type" class="form-control form-control-sm">
              <option [value]="tm_deposit.acc_type_cd" selected>{{tm_deposit.acc_type_cd}}-{{tm_deposit.acc_type_desc}}</option>
              <option *ngFor="let l of accountTypeList" [value]="l.acc_type_cd">{{l.acc_type_cd}}-{{l.acc_type_desc}}</option>
            </select>

          </div>

          <div class="form-group col-5">
            <small for="acc_no">Account Number</small>
            <!-- <input style="height:25px" [disabled]='disableAccountTypeAndNo'
              (change)="getAccountOpeningData()" [(ngModel)]="tm_deposit.acc_num" type="text"
              class="form-control form-control-sm text-capitalize" id="acc_no" placeholder="Account Number"> -->
             <div class="input-group">

            
              <input type="text" [disabled]='disableAccountTypeAndNo' class="form-control form-control-sm "
              id="acct_num" placeholder="Enter Acc# / Cust Name / Phone number" style="height:25px"
              [(ngModel)]="tm_deposit.acc_num" (input)="onChangeNull()" (change)="getAccountOpeningData(tm_deposit.acc_num)" autocomplete="new-field-1">
             <!-- <div class="input-group-append">
                     <button class="btn btn-primary btn-sm" [disabled]="disabledOnNull" style="font-size:x-small" (click)="suggestCustomer()"><i class="fa fa-search"></i></button>

             </div>
            </div>
              <div class="suggestions" *ngIf="suggestedCustomer && suggestedCustomer.length > 0">
                <table class="table table-hover table-bordered table-sm w-auto small" id="customers1">
                  <thead>
                    <tr>
                      <th scope="col">Acc#</th>
                      <th scope="col">Name</th>
                      <th scope="col">Phone</th>
                      <th scope="col">Guardian Name</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let cust of suggestedCustomer" (click)="getAccountOpeningData(cust)">
                      <td scope="row">{{cust.acc_num}}</td>
                      <td>{{cust.cust_name}}</td>
                      <td>{{((null === cust.phone) ? '' : cust.phone)}}</td>
                      <td>{{cust.guardian_name}}</td>
                    </tr>
                  </tbody>
                </table>
            </div> -->
            </div>
            <div class="suggestions border p-2" style="width: 200%; font-size: small;"
            *ngIf="showNoResult">
           <strong class="text-danger">" {{tm_deposit.acc_num}} " does not match with any account</strong>
            </div> 
          </div>

          <div class="form-group col-3">
            <small for="dbs_acc_open_dt">Opening Date</small>
            <!-- <input style="height:25px;" [disabled]='disableAll' [ngModel]="tm_deposit.opening_dt | date:'dd/mm/yyyy'" placeholder="dd/mm/yyyy" type="Date" class="form-control form-control-sm" id="dbs_acc_open_dt"> -->

            <input style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
              [ngModel]="tm_deposit.opening_dt" [readonly]="true" bsDatepicker
              [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">

          </div>
        </div>


        <!-- <-----------Deposit-------------->
        <div *ngIf="accountTypeDiv==1">

          <div class="form-row">
            <div class="form-group col-6">
              <small for="trans_type">Constitution</small> <br>
              <select [disabled]="disableConst" [(ngModel)]="tm_deposit.constitution_cd"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="trans_type" class="form-control form-control-sm">
                <!-- <option [value]="tm_deposit.constitution_cd" [disabled]="tm_deposit.constitution_cd!=101" selected>
                  {{tm_deposit.constitution_cd}}-{{tm_deposit.constitution_desc}}</option> -->
                  <option *ngFor="let l of selectedConstitutionList"   [value]="l.constitution_cd">
                    {{l.constitution_cd}}-{{l.constitution_desc}}</option>
              </select>

              </div>




            <div class="form-group col-5">
              <small for="acc_oprn_instr">Operational Instr</small> <br>
              <select [disabled]='disableAll'
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="acc_oprn_instr" [(ngModel)]="tm_deposit.oprn_instr_cd" [disabled]='disableAll'
                class="form-control form-control-sm" (change)="setOperationalInstr($event.target.value)">
                <option [value]="tm_deposit.oprn_instr_cd" selected>
                  {{tm_deposit.oprn_instr_cd}}-{{tm_deposit.oprn_instr_desc}}</option>
                <option *ngFor="let l of operationalInstrList" [value]="l.oprn_cd">{{l.oprn_cd}}-{{l.oprn_desc}}
                </option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-6">
              <br>
              <div class="container border">
                <div class="form-check text-left">

                  <label class="form-check-label">
                    <input type="checkbox" value="false"
                      [checked]="tm_deposit.cheque_facility_flag == 'Y'" [disabled]='disableAll'
                      (change)="tm_deposit.cheque_facility_flag = $event.target.checked ? 'Y' : 'N' "><small> Cheque Facility</small>
                  </label>
                  <br>

                  <!-- <label class="form-check-label">
                    <input [readonly]="true" type="checkbox" value="false"
                      [checked]="tm_deposit.standing_instr_flag == 'Y'"
                      (change)="tm_deposit.standing_instr_flag = $event.target.checked ? 'Y' : 'N' "><small> Standing Instruction</small>
                  </label>
                  <br> -->

                  <label class="form-check-label">
                    <input [readonly]="true" type="checkbox" value="false"
                      [checked]="tm_deposit.tds_applicable == 'Y'"
                      (change)="tm_deposit.tds_applicable = $event.target.checked ? 'Y' : 'N' "><small> TDS Applicable</small>
                  </label>
                  <br>
                </div>
              </div>
            </div>

            <div class="form-group col-1"></div>

            <div class="form-group col-4">
              <small for="dep_principal">Principal</small>
              <!-- <input [readonly]="true" [(ngModel)]="tm_deposit.prn_amt" -->
              <input [readonly]="true"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                class="form-control form-control-sm text-capitalize" id="dep_principal" placeholder="Principal">

              <small for="dep_amount">Amount</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.clr_bal" style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                class="form-control form-control-sm text-capitalize" id="dep_amount" placeholder="Amount">

              <small for="dep_cur_bal">Curr. Balance</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.curr_bal" style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                class="form-control form-control-sm text-capitalize" id="dep_cur_bal" placeholder="Curr. Balance">
                <small for="mis_cert_no">Cert. No. / Ledger Folio No.</small>
                <input [(ngModel)]="tm_deposit.cert_no" [disabled]='disableAll' style="height:25px" type="text" placeholder="Cert. No. / Ledger Folio No."
                  class="form-control form-control-sm text-capitalize" id="mis_cert_no">
                  <small for="ext_instl_tot">Set Minimum A/C Balance</small>
                  <input [disabled]='disableAll' [(ngModel)]="tm_deposit.ext_instl_tot" style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                  class="form-control form-control-sm text-capitalize" id="ext_instl_tot" placeholder="Minimum A/C Balance">
                  
                    <small for="dbs_acc_open_dt">Acc Close Date</small>
                        <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
                        [(ngModel)]="tm_deposit.acc_close_dt" [readonly]="true" bsDatepicker
                        [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
                
              </div>
          </div>
        </div>
        <!-- <-----------End: Deposit-------------->


        <!-- <-----------Start: Fixed Deposit-------------->
        <div *ngIf="accountTypeDiv==2">

          <div class="form-row">

            <div class="form-group col-4">
              <small for="trans_type">Constitution</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="trans_type" class="form-control form-control-sm">
                <option [value]="tm_deposit.constitution_cd" [readonly]="true" selected>
                  {{tm_deposit.constitution_cd}}-{{tm_deposit.constitution_desc}}</option>
              </select>
            </div>

            <div class="form-group col-3">
              <small for="dep_oprn_instr">Operational Instr.</small> <br>
              <select
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="acc_oprn_instr" [(ngModel)]="tm_deposit.oprn_instr_cd" [disabled]='disableAll'
                class="form-control form-control-sm" (change)="setOperationalInstr($event.target.value)">
                <option [value]="tm_deposit.oprn_instr_cd" selected>
                  {{tm_deposit.oprn_instr_cd}}-{{tm_deposit.oprn_instr_desc}}</option>
                <option *ngFor="let l of operationalInstrList" [value]="l.oprn_cd">{{l.oprn_cd}}-{{l.oprn_desc}}
                </option>
              </select>
            </div>

            <div class="form-group col-5">
              <div class="container border">
                <div class="form-row">

                  <div class="form-group col-3">
                    <small for="acc_no">Deposit Period</small>
                  </div>

                  <div class="form-group col-3">
                    <small for="dep_yr">Year</small>
                    <input [readonly]="true" [(ngModel)]="tm_deposit.year" style="height:25px" type="number"
                      max='100' min="0" (focusout)="processYearMonthDay()"
                      class="form-control form-control-sm text-capitalize" id="dep_yr">
                  </div>
                  <div class="form-group col-3">
                    <small for="dep_mon">Month</small>
                    <input [readonly]="true" [(ngModel)]="tm_deposit.month" style="height:25px" type="number"
                      max='12' min="0" (focusout)="processYearMonthDay()"
                      class="form-control form-control-sm text-capitalize" id="dep_mon">
                  </div>
                  <div class="form-group col-3">
                    <small for="dep_day">Day</small>
                    <input [readonly]="true" [(ngModel)]="tm_deposit.day" style="height:25px" type="number"
                      max='30' min="0" (focusout)="processYearMonthDay()"
                      class="form-control form-control-sm text-capitalize" id="dep_day">
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-4">
              <small for="trans_type">Intt Transfer Type</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="intt_trans_type" [(ngModel)]="tm_deposit.intt_trf_type" class="form-control form-control-sm"
                (change)="setIntTfrType($event.target.value)" (change)="reProcessPrincipal()">
                <option [value]="tm_deposit.intt_trf_type" [readonly]="true" selected>{{tm_deposit.intt_tfr_type_dscr}}</option>
                <option *ngFor="let l of intTransferType" [value]="l.tfr_type">{{l.tfr_desc}}</option>
              </select>
            </div>

            <div class="form-group col-2">
              <small for="dep_intt_rate">Intt Rate</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.intt_rt"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                (focusout)="processInterest()" class="form-control form-control-sm text-capitalize" id="intrate">
            </div>

            <div class="form-group col-3">
              <small for="dep_principal">Principal</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.prn_amt"
                style="height:25px; text-align-last: right;" type="number" min="0" value='.00' step='any'
                class="form-control form-control-sm text-capitalize" id="principal">
            </div>

            <div class="form-group col-3">
              <small for="dep_interest">Interest</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.intt_amt" style="height:25px; text-align-last: right;"
                type="number" min="0" step='any' class="form-control form-control-sm text-capitalize" id="dep_interest">
            </div>
          </div>

          <div class="form-row">
            <!-- <div class="form-group col-3">
              <small for="dep_mat_dt">Maturity Date</small>
              <input [readonly]="true" style="height:25px; width: 150px" type="text" placeholder="dd/mm/yyyy"
                [(ngModel)]="tm_deposit.mat_dt" bsDatepicker
                [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">

            </div> -->

            <div class="form-group col-3">
              <small for="dbs_acc_open_dt">Maturity Date</small>
              <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
                [(ngModel)]="tm_deposit.mat_dt" [readonly]="true" bsDatepicker
                [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div>


            <div class="form-group col-2">
              <small for="dep_cert_no">Cert. No. / Ledger Folio No.</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.cert_no" style="height:25px" type="text"
                class="form-control form-control-sm text-capitalize" id="dep_cert_no">
            </div>

            <div class="form-group col-2">
              <small for="stand_ins_after_matu">After Maturity Instr</small> <br>
              <!-- <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="stand_ins_after_matu" [(ngModel)]="tm_deposit.standing_instr_flag"
                class="form-control form-control-sm" (change)="setStandingInstrAfterMatu($event.target.value)">
                <option value="">
                  Select</option>
                <option *ngFor="let l of standingInstrAfterMaturity" [selected]="tm_deposit.standing_instr_flag==l.instr_code" [value]="l.instr_code">{{l.instr_dscr}}</option>
              </select> -->
              <select [disabled]='disableAll'
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="stand_ins_after_matu" [(ngModel)]="tm_deposit.standing_instr_flag"
                class="form-control form-control-sm" (change)="setStandingInstrAfterMatu($event.target.value)">
                <option value="">
                  Select</option>
                <option *ngFor="let l of standingInstrAfterMaturity" [selected]="tm_deposit.standing_instr_flag==l.instr_code" [value]="l.instr_code">{{l.instr_dscr}}</option>
              </select>
            </div>

            <div class="form-group col-3">
              <small for="dep_cert_no">S/B Account No</small>
              <input [disabled]='disableAll' [(ngModel)]="tm_deposit.user_acc_num" style="height:25px" type="text"
                class="form-control form-control-sm text-capitalize" id="dep_cert_no">
            </div>

            <div class="form-group col-2">
              <br>
              <!-- <div class="container border"> -->
              <label class="form-check-label">
                <input [disabled]='disableAll || tm_deposit.intt_trf_type == undefined || tm_deposit.intt_trf_type == null || tm_deposit.intt_trf_type == "O"'
                type="checkbox" value="false" [checked]="tm_deposit.cheque_facility_flag == 'Y'"
                (change)="tm_deposit.cheque_facility_flag = $event.target.checked ? 'Y' : 'N' "><small> Standing Instr</small>
              </label>
              </div>
              <div class="form-group col-2">
                <small for="dbs_acc_open_dt">Acc Close Date</small>
                    <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
                    [(ngModel)]="tm_deposit.acc_close_dt" [readonly]="true" bsDatepicker
                    [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div>

          </div>

        </div>
        <!-- <-----------End: Fixed Deposit-------------->


        <!-- <-----------Start: DBS-------------->
        <div *ngIf="accountTypeDiv==3">

          <div class="form-row">

            <div class="form-group col-4">
              <small for="dbs_const">Constitution</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="trans_type" class="form-control form-control-sm">
                <option [value]="tm_deposit.constitution_cd" [readonly]="true" selected>
                  {{tm_deposit.constitution_cd}}-{{tm_deposit.constitution_desc}}</option>
              </select>
            </div>

            <div class="form-group col-3">
              <small for="dep_oprn_instr">Operational Instr.</small> <br>
              <select
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="acc_oprn_instr" [(ngModel)]="tm_deposit.oprn_instr_cd" [disabled]='disableAll'
                class="form-control form-control-sm" (change)="setOperationalInstr($event.target.value)">
                <option [value]="tm_deposit.oprn_instr_cd" selected>
                  {{tm_deposit.oprn_instr_cd}}-{{tm_deposit.oprn_instr_desc}}</option>
                <option *ngFor="let l of operationalInstrList" [value]="l.oprn_cd">{{l.oprn_cd}}-{{l.oprn_desc}}
                </option>
              </select>
            </div>

            <div class="form-group col-5">
              <div class="container border">
                <div class="form-row">

                  <div class="form-group col-3">
                    <small for="acc_no">Deposit Period</small>
                  </div>

                  <div class="form-group col-3">
                    <small for="dbs_yr">Year</small>
                    <input [readonly]="true" [(ngModel)]="tm_deposit.year" style="height:25px" type="number"
                      max='100' min="0" (focusout)="processYearMonthDay()"
                      class="form-control form-control-sm text-capitalize" id="dbs_yr">
                  </div>
                  <div class="form-group col-3">
                    <small for="dbs_mon">Month</small>
                    <input [readonly]="true" [(ngModel)]="tm_deposit.month" style="height:25px" type="number"
                      max='12' min="0" (focusout)="processYearMonthDay()"
                      class="form-control form-control-sm text-capitalize" id="dbs_mon">
                  </div>
                  <div class="form-group col-3">
                    <small for="dbs_day">Day</small>
                    <input [readonly]="true" [(ngModel)]="tm_deposit.day" style="height:25px" type="number"
                      max='30' min="0" (focusout)="processYearMonthDay()"
                      class="form-control form-control-sm text-capitalize" id="dbs_day">
                  </div>

                </div>
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-3">
              <small for="dbs_int_trans_type">Intt Transfer Type</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="intt_trans_type" [(ngModel)]="tm_deposit.intt_trf_type" class="form-control form-control-sm"
                (change)="setIntTfrType($event.target.value)">
                <option [value]="tm_deposit.intt_trf_type" [readonly]="true" selected>{{tm_deposit.intt_tfr_type_dscr}}</option>
                <option *ngFor="let l of intTransferType" [value]="l.tfr_type">{{l.tfr_desc}}</option>
              </select>
            </div>

            <div class="form-group col-2">
              <small for="dbs_intt_rate">Intt Rate</small>
              <input [(ngModel)]="tm_deposit.intt_rt" [readonly]="true"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                (focusout)="processInterest()" class="form-control form-control-sm text-capitalize" id="dbs_intt_rate">
            </div>

            <div class="form-group col-2">
              <small for="dbs_principal">Principal</small>
              <input [(ngModel)]="tm_deposit.prn_amt" [readonly]="true"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                class="form-control form-control-sm text-capitalize" id="dbs_principal">
            </div>

            <div class="form-group col-2">
              <small for="dbs_interest">Interest</small>
              <input [(ngModel)]="tm_deposit.intt_amt" [readonly]="true" style="height:25px; text-align-last: right;"
                type="number" min="0" step='any' class="form-control form-control-sm text-capitalize" id="dbs_interest">
            </div>

            <div class="form-group col-3">
              <small for="dbs_mat_val">Matured Value</small>
              <input [ngModel]="tm_deposit.mat_val" [readonly]="true" style="height:25px; text-align-last: right;"
                type="number" min="0" step='any' class="form-control form-control-sm text-capitalize" id="dbs_mat_val">
            </div>

          </div>

          <div class="form-row">
            <div class="form-group col-3">
              <small for="dbs_mat_dt">Maturity Date</small>
              <!-- <input [disabled]='disableAll' [disabled]='disableAll' [ngModel]="tm_deposit.mat_dt | date:'yyyy-MM-dd'" style="height:25px" type="date"
            class="form-control form-control-sm text-capitalize" id="dep_mat_dt" placeholder="Maturity Date"> -->

              <input [readonly]="true" style="height:25px; width: 150px" type="text" placeholder="dd/mm/yyyy"
                [(ngModel)]="tm_deposit.mat_dt" bsDatepicker
                [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">

            </div>

            <div class="form-group col-2">
              <small for="dbs_cert_no">Cert. No. / Ledger Folio No.</small>
              <input [(ngModel)]="tm_deposit.cert_no" [readonly]="true" style="height:25px" type="text"
                class="form-control form-control-sm text-capitalize" id="dbs_cert_no">
            </div>

            <div class="form-group col-4">
              <small for="stand_ins_after_matu">After Maturity Instr</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="stand_ins_after_matu" [(ngModel)]="tm_deposit.standing_instr_flag"
                class="form-control form-control-sm" (change)="setStandingInstrAfterMatu($event.target.value)">
                <option [value]="tm_deposit.standing_instr_flag" [readonly]="true" selected>{{tm_deposit.standing_instr_dscr}}
                </option>
                <option *ngFor="let l of standingInstrAfterMaturity" [value]="l.instr_code">{{l.instr_dscr}}</option>
              </select>
            </div>

            <div class="form-group col-3">
              <small for="dbs_cert_no">S/B Account No</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.user_acc_num" style="height:25px" type="text"
                class="form-control form-control-sm text-capitalize" id="dbs_cert_no">
            </div>
            <div class="form-group col-2">
                <small for="dbs_acc_open_dt">Acc Close Date</small>
                    <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
                    [(ngModel)]="tm_deposit.acc_close_dt" [readonly]="true" bsDatepicker
                    [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div>
          </div>

        </div>
        <!-- <-----------End: DBS-------------->


        <!-- <-----------Start: Term Deposit_Reinvestment-------------->
        <div *ngIf="accountTypeDiv==4">

          <div class="form-row">

            <div class="form-group col-4">
              <small for="term_dep_const">Constitution</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="trans_type" class="form-control form-control-sm">
                <option [value]="tm_deposit.constitution_cd" [readonly]="true" selected>
                  {{tm_deposit.constitution_cd}}-{{tm_deposit.constitution_desc}}</option>
                  
              </select>
            </div>

            <div class="form-group col-3">
              <small for="term_dep_oprn_instr">Operational Instr.</small> <br>
              <select
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="acc_oprn_instr" [(ngModel)]="tm_deposit.oprn_instr_cd" [disabled]='disableAll'
                class="form-control form-control-sm" (change)="setOperationalInstr($event.target.value)">
                <option [value]="tm_deposit.oprn_instr_cd" selected>
                  {{tm_deposit.oprn_instr_cd}}-{{tm_deposit.oprn_instr_desc}}</option>
                <option *ngFor="let l of operationalInstrList" [value]="l.oprn_cd">{{l.oprn_cd}}-{{l.oprn_desc}}
                </option>
              </select>
            </div>

            <div class="form-group col-5">
              <div class="container border">
                <div class="form-row">

                  <div class="form-group col-3">
                    <small for="acc_no">Deposit Period</small>
                  </div>

                  <div class="form-group col-3">
                    <small for="term_dep_yr">Year</small>
                    <input [readonly]="true" [(ngModel)]="tm_deposit.year" style="height:25px" type="number"
                      max='100' min="0" (focusout)="processYearMonthDay()"
                      class="form-control form-control-sm text-capitalize" id="term_dep_yr">
                  </div>
                  <div class="form-group col-3">
                    <small for="term_dep_mon">Month</small>
                    <input [readonly]="true" [(ngModel)]="tm_deposit.month" style="height:25px" type="number"
                      max='12' min="0" (focusout)="processYearMonthDay()"
                      class="form-control form-control-sm text-capitalize" id="term_dep_mon">
                  </div>
                  <div class="form-group col-3">
                    <small for="term_dep_day">Day</small>
                    <input [readonly]="true" [(ngModel)]="tm_deposit.day" style="height:25px" type="number"
                      max='30' min="0" (focusout)="processYearMonthDay()"
                      class="form-control form-control-sm text-capitalize" id="term_dep_day">
                  </div>

                </div>
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-3">
              <small for="term_dep_int_trans_type">Intt Transfer Type</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="intt_trans_type" [(ngModel)]="tm_deposit.intt_trf_type" class="form-control form-control-sm"
                (change)="setIntTfrType($event.target.value)">
                <option [value]="tm_deposit.intt_trf_type" [readonly]="true" selected>{{tm_deposit.intt_tfr_type_dscr}}</option>
                <!-- <option *ngFor="let l of intTransferType" [value]="l.tfr_type">{{l.tfr_desc}}</option> -->
              </select>
            </div>

            <div class="form-group col-2">
              <small for="term_dep_intt_rate">Intt Rate</small>
              <input [(ngModel)]="tm_deposit.intt_rt" [readonly]="true"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                (focusout)="processInterest()" class="form-control form-control-sm text-capitalize"
                id="term_dep_intt_rate">
            </div>

            <div class="form-group col-2">
              <small for="term_dep_principal">Principal</small>
              <input [(ngModel)]="tm_deposit.prn_amt" [readonly]="true"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                class="form-control form-control-sm text-capitalize"
                id="term_dep_principal">
            </div>


            <div class="form-group col-2">
              <small for="term_dep_interest">Interest</small>
              <input [(ngModel)]="tm_deposit.intt_amt" style="height:25px; text-align-last: right;" [readonly]="true"
                type="number" min="0" step='any' class="form-control form-control-sm text-capitalize"
                id="term_dep_interest">
            </div>

            <div class="form-group col-3">
              <small for="term_dep_matu_val">Matured Value</small>
              <input [ngModel]="tm_deposit.mat_val" [readonly]="true" style="height:25px; text-align-last: right;"
                type="number" min="0" step='any' class="form-control form-control-sm text-capitalize"
                id="term_dep_matu_val">
            </div>

          </div>

          <div class="form-row">
            <div class="form-group col-3">
              <small for="term_dep_mat_dt">Maturity Date</small>
              <!-- <input [disabled]='disableAll' [disabled]='disableAll' [ngModel]="tm_deposit.mat_dt | date:'yyyy-MM-dd'" style="height:25px" type="date"
            class="form-control form-control-sm text-capitalize" id="term_dep_mat_dt" placeholder="Maturity Date"> -->

              <input [readonly]="true" style="height:25px; width: 150px" type="text" placeholder="dd/mm/yyyy"
                [(ngModel)]="tm_deposit.mat_dt" bsDatepicker
                [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div>

            <div class="form-group col-2">
              <small for="term_dep_cert_no">Cert. No. / Ledger Folio No.</small>
              <input [(ngModel)]="tm_deposit.cert_no" [readonly]="true" style="height:25px" type="text"
                class="form-control form-control-sm text-capitalize" id="term_dep_cert_no">
            </div>

            <div class="form-group col-4">
              <small for="term_dep_stand_ins_after_matu">After Maturity Instr</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="term_dep_stand_ins_after_matu" [(ngModel)]="tm_deposit.standing_instr_flag"
                class="form-control form-control-sm" (change)="setStandingInstrAfterMatu($event.target.value)">
                <option [value]="tm_deposit.standing_instr_flag" [readonly]="true" selected="selected">
                  {{tm_deposit.standing_instr_dscr}}</option>
                <option *ngFor="let l of standingInstrAfterMaturity" [value]="l.instr_code">{{l.instr_dscr}}</option>
              </select>
            </div>

            <div class="form-group col-3">
              <small for="term_dep_cert_no">S/B Account No</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.user_acc_num" style="height:25px" type="text"
                class="form-control form-control-sm text-capitalize" id="term_dep_cert_no">
            </div>
            <div class="form-group col-2">
                <small for="dbs_acc_open_dt">Acc Close Date</small>
                    <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
                    [(ngModel)]="tm_deposit.acc_close_dt" [readonly]="true" bsDatepicker
                    [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div>
          </div>

        </div>
        <!-- <-----------End: Term Deposit_Reinvestment-------------->

        <!-- <-----------Start: Monthly Income Scheme -------------->
        <div *ngIf="accountTypeDiv==5">

          <div class="form-row">

            <div class="form-group col-4">
              <small for="mis_const">Constitution</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="trans_type" class="form-control form-control-sm">
                <option [value]="tm_deposit.constitution_cd" [readonly]="true" selected>
                  {{tm_deposit.constitution_cd}}-{{tm_deposit.constitution_desc}}</option>
              </select>
            </div>

            <div class="form-group col-3">
              <small for="mis_oprn_instr">Operational Instr.</small> <br>
              <select
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="acc_oprn_instr" [(ngModel)]="tm_deposit.oprn_instr_cd" [disabled]='disableAll'
                class="form-control form-control-sm" (change)="setOperationalInstr($event.target.value)">
                <option [value]="tm_deposit.oprn_instr_cd" selected>
                  {{tm_deposit.oprn_instr_cd}}-{{tm_deposit.oprn_instr_desc}}</option>
                <option *ngFor="let l of operationalInstrList" [value]="l.oprn_cd">{{l.oprn_cd}}-{{l.oprn_desc}}
                </option>
              </select>
            </div>

            <div class="form-group col-5">
              <div class="container border">
                <div class="form-row">

                  <div class="form-group col-3">
                    <small for="mis_period">Deposit Period</small>
                  </div>

                  <div class="form-group col-3">
                    <small for="mis_yr">Year</small>
                    <input [readonly]="true" [(ngModel)]="tm_deposit.year" style="height:25px" type="number"
                      max='100' min="0" (focusout)="processYearMonthDay()"
                      class="form-control form-control-sm text-capitalize" id="mis_yr">
                  </div>
                  <div class="form-group col-3">
                    <small for="mis_mon">Month</small>
                    <input [readonly]="true" [(ngModel)]="tm_deposit.month" style="height:25px" type="number"
                      max='12' min="0" (focusout)="processYearMonthDay()"
                      class="form-control form-control-sm text-capitalize" id="mis_mon">
                  </div>
                  <div class="form-group col-3">
                    <small for="mis_day">Day</small>
                    <input [readonly]="true" [(ngModel)]="tm_deposit.day" style="height:25px" type="number"
                      max='30' min="0" (focusout)="processYearMonthDay()"
                      class="form-control form-control-sm text-capitalize" id="mis_day">
                  </div>

                </div>
              </div>
            </div>
          </div>

          <div class="form-row">

            <div class="form-group col-4">
              <small for="mis_int_trans_type">Intt Transfer Type</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="mis_int_trans_type" [(ngModel)]="tm_deposit.intt_trf_type" class="form-control form-control-sm"
                (change)="setIntTfrType($event.target.value)">
                <option [value]="tm_deposit.intt_trf_type" [readonly]="true" selected>{{tm_deposit.intt_tfr_type_dscr}}</option>
                <option *ngFor="let l of intTransferType" [value]="l.tfr_type">{{l.tfr_desc}}</option>
              </select>
            </div>

            <div class="form-group col-2">
              <small for="mis_intt_rate">Intt Rate</small>
              <input [(ngModel)]="tm_deposit.intt_rt" [readonly]="true"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                (focusout)="processInterest()" class="form-control form-control-sm text-capitalize" id="mis_intt_rate">
            </div>

            <div class="form-group col-3">
              <small for="mis_principal">Principal</small>
              <input [(ngModel)]="tm_deposit.prn_amt" [readonly]="true"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                class="form-control form-control-sm text-capitalize" id="mis_principal">
            </div>

            <div class="form-group col-3">
              <small for="mis_interest">Interest</small>
              <input [(ngModel)]="tm_deposit.intt_amt" [readonly]="true" style="height:25px; text-align-last: right;"
                type="number" min="0" step='any' class="form-control form-control-sm text-capitalize" id="mis_interest">
            </div>

          </div>


          <div class="form-row">

            <!-- <div class="form-group col-3">
              <small for="mis_mat_dt">Maturity Date</small>
              <input [readonly]="true" style="height:25px; width: 150px" type="text" placeholder="dd/mm/yyyy"
                [(ngModel)]="tm_deposit.mat_dt" bsDatepicker
                [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div> -->

            <div class="form-group col-3">
              <small for="dbs_acc_open_dt">Maturity Date</small>
              <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
              [(ngModel)]="tm_deposit.mat_dt" [readonly]="true" bsDatepicker
              [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div>

            <div class="form-group col-3">
              <small for="mis_cert_no">Cert. No. / Ledger Folio No.</small>
              <input [(ngModel)]="tm_deposit.cert_no" [readonly]="true" style="height:25px" type="text"
                class="form-control form-control-sm text-capitalize" id="mis_cert_no">
            </div>

            <div class="form-group col-2">
              <small for="mis_stand_ins_after_matu">After Maturity Instr</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="mis_stand_ins_after_matu" [(ngModel)]="tm_deposit.standing_instr_flag"
                class="form-control form-control-sm" (change)="setStandingInstrAfterMatu($event.target.value)">
                <option [value]="tm_deposit.standing_instr_flag" [readonly]="true" selected>{{tm_deposit.standing_instr_dscr}}
                </option>
                <option *ngFor="let l of standingInstrAfterMaturity" [value]="l.instr_code">{{l.instr_dscr}}</option>
              </select>
            </div>

            <div class="form-group col-2">
              <small for="mis_cert_no">S/B Account No</small>
              <input [disabled]='disableAll' [(ngModel)]="tm_deposit.user_acc_num"
                style="height:25px" type="text" class="form-control form-control-sm text-capitalize" id="mis_cert_no">
            </div>

            <div class="form-group col-2">
              <br>
              <label class="form-check-label">
                <input [disabled]='disableAll || tm_deposit.intt_trf_type == undefined || tm_deposit.intt_trf_type == null || tm_deposit.intt_trf_type == "O"'
                type="checkbox" value="false" [checked]="tm_deposit.cheque_facility_flag == 'Y'"
                (change)="tm_deposit.cheque_facility_flag = $event.target.checked ? 'Y' : 'N' "><small> Standing Instr</small>
              </label>
            </div>
            <div class="form-group col-2">
                <small for="dbs_acc_open_dt">Acc Close Date</small>
                    <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
                    [(ngModel)]="tm_deposit.acc_close_dt" [readonly]="true" bsDatepicker
                    [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div>

          </div>

        </div>
        <!-- <-----------End: Monthly Income Scheme-------------->


        <!-- <-----------Start: Recurring Deposit-------------->
        <div *ngIf="accountTypeDiv==6">

          <div class="form-row">
            <div class="form-group col-5">
              <small for="rec_dep_const">Constitution</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="trans_type" class="form-control form-control-sm">
                <option [value]="tm_deposit.constitution_cd" [readonly]="true" selected>
                  {{tm_deposit.constitution_cd}}-{{tm_deposit.constitution_desc}}</option>
              </select>
            </div>

            <div class="form-group col-3">
              <small for="rec_dep_intt_rate">No Of Installment</small>
              <input [(ngModel)]="tm_deposit.instl_no" [readonly]="true"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                (focusout)="processInstallmentNo()" class="form-control form-control-sm text-capitalize"
                id="rec_dep_intt_rate">
            </div>

            <div class="form-group col-4">
              <small for="rec_dep_intt_rate">Installment Amount</small>
              <input [(ngModel)]="tm_deposit.instl_amt" [readonly]="true"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                (focusout)="processInstallmentAmount()" class="form-control form-control-sm text-capitalize"
                id="rec_dep_intt_rate">
            </div>
          </div>

          <div class="form-row">

            <div class="form-group col-2">
              <small for="rec_dep_intt_rate">Rate Of Interest</small>
              <input [(ngModel)]="tm_deposit.intt_rt" [readonly]="true"
                style="height:25px; text-align-last: right;" type="number" min="0" value='.00' step='any'
                (focusout)="processInterest()" class="form-control form-control-sm text-capitalize"
                id="rec_dep_intt_rate">
            </div>

            <div class="form-group col-2">
              <small for="rec_dep_principal">Total Principal</small>
              <input [(ngModel)]="tm_deposit.prn_amt" [readonly]="true"
                style="height:25px; text-align-last: right;" type="number" min="0" value='.00' step='any'
                class="form-control form-control-sm text-capitalize" id="rec_dep_principal">
            </div>


            <div class="form-group col-2">
              <small for="rec_dep_interest">Interest</small>
              <input [(ngModel)]="tm_deposit.intt_amt" [readonly]="true" style="height:25px; text-align-last: right;"
                type="number" min="0" value='0' step='any' class="form-control form-control-sm text-capitalize"
                id="rec_dep_interest">
            </div>

            <div class="form-group col-3">
              <small for="rec_dep_matu_val">Matured Value</small>
              <input [(ngModel)]="tm_deposit.mat_val" [readonly]="true"
                style="height:25px; text-align-last: right;" type="number" min="0" value='0' step='any'
                class="form-control form-control-sm text-capitalize" id="rec_dep_matu_val">
            </div>

            <!-- <div class="form-group col-2">
              <small for="rec_dep_mat_dt">Maturity Date</small>
              <input [readonly]="true" style="height:25px; width: 150px;" type="text" placeholder="dd/mm/yyyy"
                [(ngModel)]="tm_deposit.mat_dt" bsDatepicker
                [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div> -->

            <div class="form-group col-3">
              <small for="dbs_acc_open_dt">Maturity Date</small>
              <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
              [(ngModel)]="tm_deposit.mat_dt" [readonly]="true" bsDatepicker
              [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div>

          </div>

          <div class="form-row">
            <div class="form-group col-3">
              <small for="rec_dep_oprn_instr">Operational Instr</small> <br>
              <select
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="acc_oprn_instr" [disabled]='disableAll' [(ngModel)]="tm_deposit.oprn_instr_cd"
                class="form-control form-control-sm"
                (change)="setOperationalInstr($event.target.value)">
                <option [value]="tm_deposit.oprn_instr_cd" selected>
                  {{tm_deposit.oprn_instr_cd}}-{{tm_deposit.oprn_instr_desc}}</option>
                <option *ngFor="let l of operationalInstrList" [value]="l.oprn_cd">{{l.oprn_cd}}-{{l.oprn_desc}}
                </option>
              </select>
            </div>

            <div class="form-group col-3">
              <small for="rec_dep_stand_ins_after_matu">After Maturity Instr</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="rec_dep_stand_ins_after_matu" [(ngModel)]="tm_deposit.standing_instr_flag"
                class="form-control form-control-sm" (change)="setStandingInstrAfterMatu($event.target.value)">
                <option [value]="tm_deposit.standing_instr_flag" [readonly]="true" selected>{{tm_deposit.standing_instr_dscr}}
                </option>
                <option *ngFor="let l of standingInstrAfterMaturity" [value]="l.instr_code">{{l.instr_dscr}}</option>
              </select>
            </div>


            <div class="form-group col-3">
              <small for="dbs_cert_no">S/B Account No</small>
              <input [disabled]='disableAll' [(ngModel)]="tm_deposit.user_acc_num" style="height:25px" type="text"
                class="form-control form-control-sm text-capitalize" id="dbs_cert_no">
            </div>

            <div class="form-group col-2">
              <br>
              <label class="form-check-label">
                <input [disabled]='disableAll'
                type="checkbox" value="false" [checked]="tm_deposit.cheque_facility_flag == 'Y'"
                (change)="tm_deposit.cheque_facility_flag = $event.target.checked ? 'Y' : 'N' "><small> Standing Instr</small>
              </label>
            </div>

          </div>
          <div class="form-row">
            <div class="form-group col-3">
              <small for="mis_cert_no">Cert. No. / Ledger Folio No.</small>
              <input [(ngModel)]="tm_deposit.cert_no" [disabled]='disableAll' style="height:25px" type="text"
                class="form-control form-control-sm text-capitalize" id="mis_cert_no" placeholder="Cert. No. / Ledger Folio No.">
            </div> 
            <div class="form-group col-3">
                <small for="dbs_acc_open_dt">Acc Close Date</small>
                <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
                [(ngModel)]="tm_deposit.acc_close_dt" [readonly]="true" bsDatepicker
                [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div>
          </div>

        </div>
        <!-- <-----------End: Recurring Deposit-------------->

        <!-- <-----------Start:  Share-------------->
        <div *ngIf="accountTypeDiv==7">

          <div class="form-row">

            <div class="form-group col-6">
              <small for="share_const">Constitution</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="trans_type" class="form-control form-control-sm">
                <option [value]="tm_deposit.constitution_cd" [readonly]="true" selected>
                  {{tm_deposit.constitution_cd}}-{{tm_deposit.constitution_desc}}</option>
              </select>
            </div>

            <div class="form-group col-5">
              <small for="share_oprn_instr">Operational Instr</small> <br>
              <select
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="acc_oprn_instr" [disabled]='disableAll' [(ngModel)]="tm_deposit.oprn_instr_cd"
                class="form-control form-control-sm"
                (change)="setOperationalInstr($event.target.value)">
                <option [value]="tm_deposit.oprn_instr_cd" selected>
                  {{tm_deposit.oprn_instr_cd}}-{{tm_deposit.oprn_instr_desc}}</option>
                <option *ngFor="let l of operationalInstrList" [value]="l.oprn_cd">{{l.oprn_cd}}-{{l.oprn_desc}}
                </option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <!-- <div class="form-group col-6">
              <br>
              <div class="container border">
                <div class="form-check">
                  <label class="form-check-label">
                    <input [readonly]="true" type="checkbox" value="false"
                      [checked]="tm_deposit.cheque_facility_flag == 'Y'"
                      (change)="tm_deposit.cheque_facility_flag = $event.target.checked ? 'Y' : 'N' "><small> Cheque
                      Facility</small>
                  </label>
                  <br>

                  <label class="form-check-label">
                    <input [readonly]="true" type="checkbox" value="false"
                      [checked]="tm_deposit.standing_instr_flag == 'Y'"
                      (change)="tm_deposit.standing_instr_flag = $event.target.checked ? 'Y' : 'N' "><small> Standing
                      Instruction</small>
                  </label>
                  <br>

                  <label class="form-check-label">
                    <input [readonly]="true" type="checkbox" value="false"
                      [checked]="tm_deposit.tds_applicable == 'Y'"
                      (change)="tm_deposit.tds_applicable = $event.target.checked ? 'Y' : 'N' "><small> TDS
                      Applicable</small>
                  </label>
                  <br>
                </div>
              </div>
            </div> -->


            <div class="form-group col-1"></div>

            <div class="form-group col-4">
              <small for="share_principal">Principal</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.prn_amt"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                class="form-control form-control-sm text-capitalize" id="share_principal" placeholder="Principal">

              <small for="share_amount">Amount</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.instl_amt"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                class="form-control form-control-sm text-capitalize" id="share_amount" placeholder="Amount">

              <small for="share_cur_bal">Curr. Balance</small>
              <input [readonly]="true" style="height:25px; text-align-last: right;" type="number" min="0"
                step='any' class="form-control form-control-sm text-capitalize" id="share_cur_bal"
                placeholder="Curr. Balance">
                
                    <small for="dbs_acc_open_dt">Acc Close Date</small>
                    <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
                    [(ngModel)]="tm_deposit.acc_close_dt" [readonly]="true" bsDatepicker
                    [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
               
            </div>

          </div>
        </div>
        <!-- <-----------End: Share-------------->


        <!-- <-----------Start:  Current Account-------------->
        <div *ngIf="accountTypeDiv==8">

          <div class="form-row">
            <div class="form-group col-6">
              <small for="curr_const">Constitution</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="trans_type" class="form-control form-control-sm">
                <option [value]="tm_deposit.constitution_cd" [readonly]="true" selected>
                  {{tm_deposit.constitution_cd}}-{{tm_deposit.constitution_desc}}</option>
              </select>
            </div>

            <div class="form-group col-5">
              <small for="curr_oprn_instr">Operational Instr</small> <br>
              <select
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="acc_oprn_instr" [disabled]='disableAll' [(ngModel)]="tm_deposit.oprn_instr_cd"
                class="form-control form-control-sm"
                (change)="setOperationalInstr($event.target.value)">
                <option [value]="tm_deposit.oprn_instr_cd" selected>
                  {{tm_deposit.oprn_instr_cd}}-{{tm_deposit.oprn_instr_desc}}</option>
                <option *ngFor="let l of operationalInstrList" [value]="l.oprn_cd">{{l.oprn_cd}}-{{l.oprn_desc}}
                </option>
              </select>
            </div>
          </div>

          <div class="form-row">

            <div class="form-group col-6">
              <br>
              <div class="container border">
                <div class="form-check">
                  <label class="form-check-label">
                    <input [readonly]="true" type="checkbox" value="false"
                      [checked]="tm_deposit.cheque_facility_flag == 'Y'"
                      (change)="tm_deposit.cheque_facility_flag = $event.target.checked ? 'Y' : 'N' "><small> Cheque
                      Facility</small>
                  </label>
                  <br>

                  <!-- <label class="form-check-label">
                    <input [readonly]="true" type="checkbox" value="false"
                      [checked]="tm_deposit.standing_instr_flag == 'Y'"
                      (change)="tm_deposit.standing_instr_flag = $event.target.checked ? 'Y' : 'N' "><small> Standing
                      Instruction</small>
                  </label>
                  <br> -->

                  <label class="form-check-label">
                    <input [readonly]="true" type="checkbox" value="false"
                      [checked]="tm_deposit.tds_applicable == 'Y'"
                      (change)="tm_deposit.tds_applicable = $event.target.checked ? 'Y' : 'N' "><small> TDS
                      Applicable</small>
                  </label>
                  <br>
                </div>
              </div>

            </div>


            <div class="form-group col-1"></div>

            <div class="form-group col-4">
              <small for="curr_principal">Principal</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.prn_amt"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                class="form-control form-control-sm text-capitalize" id="curr_principal"
                placeholder="Principal">

              <small for="curr_amount">Amount</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.instl_amt"
                style="height:25px; text-align-last: right;" type="number" min="0" step='any'
                class="form-control form-control-sm text-capitalize" id="curr_amount" placeholder="Amount">

              <small for="curr_cur_bal">Curr. Balance</small>
              <input [readonly]="true" style="height:25px; text-align-last: right;" type="number" min="0"
                step='any' class="form-control form-control-sm text-capitalize" id="curr_cur_bal"
                placeholder="Curr. Balance">
                <small for="mis_cert_no">Cert. No. / Ledger Folio No.</small>
                <input [(ngModel)]="tm_deposit.cert_no" [disabled]='disableAll' style="height:25px" type="text"
                  class="form-control form-control-sm text-capitalize" id="mis_cert_no" placeholder="Cert. No. / Ledger Folio No.">
                  <small for="dbs_acc_open_dt">Acc Close Date</small>
                  <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
                  [(ngModel)]="tm_deposit.acc_close_dt" [readonly]="true" bsDatepicker
                  [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
                </div>

          </div>
        </div>
        <!-- <-----------End: Current-------------->

        <!-- <-----------Start:  Guaranty Fund-------------->
        <div *ngIf="accountTypeDiv==9">

          <div class="form-row">

            <div class="form-group col-6">
              <small for="guar_const">Constitution</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="trans_type" class="form-control form-control-sm">
                <option [value]="tm_deposit.constitution_cd" [readonly]="true" selected>
                  {{tm_deposit.constitution_cd}}-{{tm_deposit.constitution_desc}}</option>
              </select>
            </div>

            <div class="form-group col-5">
              <small for="gua_oprn_instr">Operational Instr</small> <br>
              <select
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="acc_oprn_instr" [disabled]='disableAll' [(ngModel)]="tm_deposit.oprn_instr_cd"
                class="form-control form-control-sm" (change)="setOperationalInstr($event.target.value)">
                <option [value]="tm_deposit.oprn_instr_cd" selected>
                  {{tm_deposit.oprn_instr_cd}}-{{tm_deposit.oprn_instr_desc}}</option>
                <option *ngFor="let l of operationalInstrList" [value]="l.oprn_cd">{{l.oprn_cd}}-{{l.oprn_desc}}
                </option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-6">
              <br>
              <div class="container border">
                <div class="form-check">
                  <label class="form-check-label">
                    <input [readonly]="true" type="checkbox" value="false"
                      [checked]="tm_deposit.cheque_facility_flag == 'Y'"
                      (change)="tm_deposit.cheque_facility_flag = $event.target.checked ? 'Y' : 'N' "><small> Cheque
                      Facility</small>
                  </label>
                  <br>

                  <label class="form-check-label">
                    <input [readonly]="true" type="checkbox" value="false"
                      [checked]="tm_deposit.standing_instr_flag == 'Y'"
                      (change)="tm_deposit.standing_instr_flag = $event.target.checked ? 'Y' : 'N' "><small> Standing
                      Instruction</small>
                  </label>
                  <br>

                  <label class="form-check-label">
                    <input [readonly]="true" type="checkbox" value="false"
                      [checked]="tm_deposit.tds_applicable == 'Y'"
                      (change)="tm_deposit.tds_applicable = $event.target.checked ? 'Y' : 'N' "><small> TDS
                      Applicable</small>
                  </label>
                  <br>
                </div>
              </div>
            </div>

            <div class="form-group col-1"></div>

            <div class="form-group col-4">
              <small for="gua_principal">Principal</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.prn_amt"
                style="height:25px; text-align-last: right;" type="number" min="0" value='0.00' step='any'
                class="form-control form-control-sm text-capitalize" id="gua_principal"
                placeholder="Principal">

              <small for="gua_amount">Amount</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.instl_amt"
                style="height:25px; text-align-last: right;" type="number" min="0" value='0.00' step='any'
                class="form-control form-control-sm text-capitalize" id="gua_amount" placeholder="Amount">

              <small for="gua_cur_bal">Curr. Balance</small>
              <input [readonly]="true" style="height:25px; text-align-last: right;" type="number" min="0"
                value='0.00' step='any' class="form-control form-control-sm text-capitalize" id="gua_cur_bal"
                placeholder="Curr. Balance">
                <small for="dbs_acc_open_dt">Acc Close Date</small>
                    <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
                    [(ngModel)]="tm_deposit.acc_close_dt" [readonly]="true" bsDatepicker
                    [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div>

          </div>
        </div>
        <!-- <-----------End: Guaranty Fund-------------->

        <!-- <-----------Start: Savings Deposit Special -------------->
        <div *ngIf="accountTypeDiv==11">

          <div class="form-row">
            <div class="form-group col-5">
              <small for="rec_dep_const">Constitution</small> <br>
              <select [readonly]="true"
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="trans_type" class="form-control form-control-sm">
                <option [value]="tm_deposit.constitution_cd" [readonly]="true" selected>
                  {{tm_deposit.constitution_cd}}-{{tm_deposit.constitution_desc}}</option>
              </select>
            </div>

            <div class="form-group col-3">
              <small for="rec_dep_intt_rate">Period (Month)</small>
              <input [ngModel]="this.tm_deposit.month" [readonly]="true" style="height:25px; text-align-last: right;"
                type="number" min="0" step='any' class="form-control form-control-sm text-capitalize"
                id="rec_dep_intt_rate">
            </div>

            <div class="form-group col-4">
              <small for="rec_dep_oprn_instr">Operated By</small> <br>
              <select
                style="height:25px; font-size: small; align-content:center; padding-top: 0px; background-color: whitesmoke;"
                id="acc_oprn_instr" [disabled]='disableAll' class="form-control form-control-sm"
                (change)="setOperationalInstr($event.target.value)">
                <option [value]="tm_deposit.oprn_instr_cd" selected>
                  {{tm_deposit.oprn_instr_cd}}-{{tm_deposit.oprn_instr_desc}}
                </option>
                <option *ngFor="let l of operationalInstrList" [value]="l.oprn_cd">{{l.oprn_cd}}-{{l.oprn_desc}}
                </option>
              </select>
            </div>

          </div>

          <div class="form-row">
            <div class="form-group col-4">
              <small for="rec_dep_intt_rate">Interest Rate</small>
              <input [ngModel]="tm_deposit.intt_rt" [readonly]="true" style="height:25px; text-align-last: right;"
                type="number" min="0" value='.00' (focusout)="processInterest()" step='any'
                class="form-control form-control-sm text-capitalize" id="rec_dep_intt_rate">
            </div>

            <div class="form-group col-4">
              <small for="rec_dep_principal">Principal</small>
              <input [ngModel]="tm_deposit.prn_amt" [readonly]="true" style="height:25px; text-align-last: right;"
                type="number" min="0" value='.00' step='any' class="form-control form-control-sm text-capitalize"
                id="rec_dep_principal">
            </div>

            <div class="form-group col-4">
              <small for="rec_dep_mat_dt">Maturity Date</small>

              <input [readonly]="true" style="height:25px; width: 150px" type="text" placeholder="dd/mm/yyyy"
                [(ngModel)]="tm_deposit.mat_dt" bsDatepicker
                [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">

            </div>
          </div>

          <div class="form-row">
            <div class="form-group col-10">
              <small for="dbs_cert_no">Agent Name</small>
              <input [readonly]="true" [(ngModel)]="tm_deposit.agent_cd" style="height:25px" type="text"
                class="form-control form-control-sm text-capitalize" id="dbs_cert_no">
            </div>
            <div class="form-group col-2">
                <small for="dbs_acc_open_dt">Acc Close Date</small>
                    <input [readonly]="true" style="height:25px;" type="text" placeholder="dd/mm/yyyy" class="form-control"
                    [(ngModel)]="tm_deposit.acc_close_dt" [readonly]="true" bsDatepicker
                    [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass:'theme-dark-blue' }">
            </div>

          </div>
        </div>
        <!-- <-----------End: Savings Deposit Special -------------->
      </div>

      <!-- <==================================================================================> -->

      <div class="col-6 col-md-5 border-left">
        <!-- <h1></h1>
        <h6 style="background-color: lightskyblue">Introducer Details</h6>

        <section *ngFor="let t1 of td_introducerlist; let i=index">
          <div class="form-row">
            <div class="form-group col-3">
              <small for="intr_acc_type">Account Type</small>
              <input type="text" [(ngModel)]='t1.introducer_acc_type' style="height:25px" [readonly]="true"
                class="form-control form-control-sm text-capitalize" id="intr_name" placeholder="Introducer Name">
            </div>

            <div class="form-group col-3">
              <small for="intr_acc_no">Account Number</small>
              <input [readonly]="true" [(ngModel)]='t1.introducer_acc_num' type="text" style="height:25px"
                class="form-control form-control-sm text-capitalize" id="intr_acc_no"
                placeholder="Introducer Account Number">
            </div>

            <div class="form-group col-6">
              <small for="intr_name">Introducer Name</small>
              <input type="text" [(ngModel)]='t1.introducer_name' style="height:25px" [readonly]="true"
                class="form-control form-control-sm text-capitalize" id="intr_name" placeholder="Introducer Name">
            </div>
          </div>
        </section> -->

        <!-- <hr style="margin-top: 0ch;"> -->
        <h1></h1>
        <h4 class="customHeader">Nominee Details</h4>

        <section *ngFor="let t1 of td_nomineeList; let i=index">
          <!-- <div class="container border"> -->
            <div class="form-row">
              <div class="form-group col-5">
                <small for="intr_acc_type">Name </small>
                <input [(ngModel)]="t1.nom_name" style="height:25px" [disabled]='disableAll' type="text"
                  class="form-control form-control-sm text-capitalize" id="nom_name"
                  (ngModelChange)="t1.nom_name = $event.toUpperCase()" placeholder="Nominee {{i+1}}">
              </div>

              <div class="form-group col-7">
                <small for="intr_acc_no">Address</small>
                <input [(ngModel)]="t1.nom_addr1" style="height:25px" [disabled]='disableAll' type="text"
                  class="form-control form-control-sm text-capitalize" id="nom_addr"
                  (ngModelChange)="t1.nom_addr1 = $event.toUpperCase()" placeholder="Nominee Address">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group col-3">
                <small for="intr_acc_type">Percentage</small>
                <input [(ngModel)]="t1.percentage" style="height:25px" [disabled]='disableAll' type="text"
                  class="form-control form-control-sm text-capitalize" id="nom_percent" (change)="checkNomineePercentage(i)"
                  placeholder="Percentage">
              </div>

              <div class="form-group col-4">
                <small for="intr_acc_type">Relation</small>
                <!-- <input [(ngModel)]="t1.relation" style="height:25px" [disabled]='disableAll' type="text"
                  class="form-control form-control-sm text-capitalize" id="nom_rel"
                  (ngModelChange)="t1.relation = $event.toUpperCase()" placeholder="Relation"> -->
                  <select class="form-control form-control-sm" [(ngModel)]="t1.relation">
                    <option value="" [readonly]="true">Choose</option>
                    <option *ngFor="let l of relStatus" [value]="l.val">{{l.val}}</option>
                  </select>
              </div>

              <div class="form-group col-5">
                <small for="intr_acc_no">Phone</small>
                <input [(ngModel)]="t1.phone_no" style="height:25px" [disabled]='disableAll' type="text"
                  class="form-control form-control-sm text-capitalize" id="nom_phone" placeholder="Phone">
              </div>
            </div>
          <!-- </div> -->

          <!-- <hr style="margin-top: 0ch;"> -->
          <hr style="border-top: 1px solid #8c8b8b;">


        </section>

        <div class="text-right mb-3">
          <button type="button" style="height:22px; padding-top: 0px;" class="btn btn-primary btn-sm "
            (click)="addNominee()" [disabled]='disableAll'>
            <i class="fa fa-plus-circle" aria-hidden="true"></i>
          </button>

          <button type="button" style="height:22px; padding-top: 0px;" class="btn btn-primary btn-sm"
            (click)="removeNominee()" [disabled]='disableAll'>
            <i class="fa fa-minus-circle" aria-hidden="true"></i>
          </button>
        </div>

      </div>
    </div>

    <div *ngIf="showMsg && showMsg.Show" class="col-12 mt-1">
      <div class="alert alert-dismissible fade show" role="alert" [ngClass]="{'alert-success': showMsg.Type === 0,
     'alert-warning':showMsg.Type === 1, 'alert-info':showMsg.Type === 2, 'alert-danger':showMsg.Type === 3 }">
        <strong>{{showMsg.Message}}</strong>
        <button type="button" class="close" data-dismiss="alert" (click)="closeAlertMsg()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </div>

  </div>

  <div
    class="col-xs-12 col-sm-12 col-md-11 col-lg-11 shadow mb-2 bg-white p-3 d-flex justify-content-center align-items-center">
    <button mat-raised-button type="button" class="btn btn-primary btn-sm ml-1 mr-1" (click)="retrieveData()">Retrieve</button>
    <!-- <button mat-raised-button type="button" class="btn btn-primary btn-sm ml-1 mr-1" (click)="modifyData()">Modify</button> -->
    <button mat-raised-button type="button" class="btn btn-primary btn-sm ml-1 mr-1" (click)="clearData()">Clear</button>
    <!-- <button mat-raised-button type="button" class="btn btn-primary btn-sm ml-1 mr-1" (click)="saveData()">Save</button> -->
    <button mat-raised-button type="button" class="btn btn-primary btn-sm ml-1 mr-1" (click)="backScreen()">Back</button>
    <!-- <button mat-raised-button type="button" class="btn btn-primary btn-sm ml-1 mr-1" (click)="deleteData()">Delete</button> -->
    <button mat-raised-button type="button" [disabled]="undefined === tm_deposit.cust_cd" class="btn btn-primary btn-sm ml-1 mr-1"
      (click)="openModal(kycContent)">Kyc</button>
  </div>

</div>

<ng-template #kycContent>
  <div class="modal-header">
    <h4 class="modal-title pull-left">KYC Details</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-kyc></app-kyc>
  </div>
</ng-template>

