<div *ngIf="spinner" class="rox d-flex justify-content-center">
  <div class="spinner-border text-info" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>


<div *ngIf="!spinner">
  <div class="container" class="divc4">

    <table class="table ml-2 mb-0" >
      <tr class="divc5">
        <td style="width: 5%;">
          <button type="button" class="btn btn-primary" (click)="navigateBack()">
            <i class="fa fa-arrow-circle-left fa-1x "></i></button>
        </td>
        <td style="width: 95%; text-align: center;">
          <h4> Menu Configuration for {{bankName}}
          </h4>
        </td>
      </tr>
    </table>


    <div>
      <table class="table ml-2" >
        <tr>
          <div *ngIf="showAlert2" style="width:1300px;">
            <div class="alert alert-danger alert-dismissible fade show ml-2 " role="alert">
              <strong>Error!</strong> {{alertMsg}}
              <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="closeAlert()">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          </div>

          <div *ngIf="showAlert" style="width:1300px;">
            <div class="alert alert-success alert-dismissible fade show ml-2 " role="alert">
              <strong>Info!</strong> {{alertMsg}}
              <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="closeAlert()">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          </div>
        </tr>

        <!-- <p>-----------------MODULE---Level1--------------------------</p> -->
        <tr>
          <td style="width: 5%">
            <div class="divc0">
              <strong class="mg1">Module</strong>
              <section *ngFor="let t1 of menuConfigLevel1List">
                <input disabled class="inp1" placeholder="Enter Module Name.." [(ngModel)]="t1.menu_name" type="text">

                <label> Act
                  <input class="chk" type="checkbox" [checked]="t1.active_flag == 'Y'"
                    (change)="t1.active_flag = $event.target.checked ? 'Y' : 'N' " />
                </label>

                <button type="button" class="btn btn-primary btn-sm"
                  (click)="filterMenuList(t1.menu_id  , 2 , t1.menu_name )"> <i
                    class="fa fa-arrow-circle-right fa-x "></i></button>
              </section>

            </div>
            <p></p>
          </td>

          <!-- <p>-----------------MENU--Level2---------------------------</p> -->
          <td style="width: 20%">
          <div class="divc1" *ngIf="showLevel2Flg">
            <strong class="mg1">Menu: {{menuName}}</strong>

            <section *ngFor="let t2 of menuConfigLevel2List">
              <input disabled class="inp3" placeholder="Enter Menu Name.." [(ngModel)]="t2.menu_name" type="text">

              <label> Act
                <input class="chk" type="checkbox" [checked]="t2.active_flag == 'Y'"
                  (change)="t2.active_flag = $event.target.checked ? 'Y' : 'N' " />
              </label>

              <button type="button" class="btn btn-primary btn-sm"
                (click)="filterMenuList(t2.menu_id, 3, t2.menu_name)"><i
                  class="fa fa-arrow-circle-right fa-1x "></i></button>
            </section>
          </div>
          </td>
          <!-----------------------SUB-MEMU/SCREEN1-----Level3---------------------->
          <td style="width: 33%">
            <div class="divc2" *ngIf="showLevel3Flg">
              <strong class="mg1">SubMenu / Screen: {{screenName1}}</strong>

              <section *ngFor="let t3 of menuConfigLevel3List">
                <input disabled class="inp3" placeholder="Enter Screen Name" [(ngModel)]="t3.menu_name" type="text">

                <label> IsScr
                  <input disabled class="chk" type="checkbox" [checked]="t3.is_screen == 'Y'"
                    (change)="t3.is_screen = $event.target.checked ? 'Y' : 'N' " />
                </label>

                <input disabled class="inp3" placeholder="Enter Page Name" [(ngModel)]="t3.ref_page" type="text">

                <label> Act
                  <input class="chk" type="checkbox" [checked]="t3.active_flag == 'Y'"
                    (change)="t3.active_flag = $event.target.checked ? 'Y' : 'N' " />
                </label>

                <button [disabled]="t3.is_screen == 'Y'" type="button" class="btn btn-primary btn-sm"
                  (click)="filterMenuList(t3.menu_id, 4, t3.menu_name)"><i
                    class="fa fa-arrow-circle-right fa-1x "></i></button>
              </section>
            </div>
            <p></p>
          </td>

          <!-----------------------SCREEN2--------------------------->
          <td style="width: 33%">
            <div class="divc3" *ngIf="showLevel4Flg">
              <strong class="mg1">Screen: {{screenName2}}</strong>

              <section *ngFor="let t4 of menuConfigLevel4List">
                <input disabled class="inp3" placeholder="Enter Screen Name" [(ngModel)]="t4.menu_name" type="text">

                <label> IsScr
                  <input disabled class="chk" type="checkbox" [checked]="t4.is_screen == 'Y'"
                    (change)="t4.is_screen = $event.target.checked ? 'Y' : 'N' " />
                </label>

                <input disabled class="inp3" placeholder="Enter Page Name" [(ngModel)]="t4.ref_page" type="text">

                <label> Act
                  <input class="chk" type="checkbox" [checked]="t4.active_flag == 'Y'"
                    (change)="t4.active_flag = $event.target.checked ? 'Y' : 'N' " />
                </label>

              </section>
            </div>
            <p></p>
          </td>
        </tr>

      </table>

      <div>
        <table class="table" ml-5>
          <button type="button" class="btn btn-primary btn-sm m-1" (click)="updateMenuConfigList()">Save</button>
          <button type="button" class="btn btn-primary btn-sm m-1" (click)="resetListAndFlag()">Cancel</button>
        </table>
      </div>


    </div>
  </div>
</div>
